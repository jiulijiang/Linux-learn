## day_3
### linux的root用户
- root用户拥有最大的系统操纵权限
- 普通用户一般只能在用户目录下进行操作
- `su`命令：
    - 语法：`su [-] [用户名]`
    - `-`可选，表示是否在切换用户后加载环境变量，一般默认带上
    - 用户名百世要切换的用户，用户名省略则表示切换到root用户
    - 切换后可以用`exit`命令退出回到原来的用户
    - 普通用户之间切换需要输入密码，root用户切换到普通用户不需要输入密码
- `sudo`命令：
    - 语法：`sudo [命令]`
    - 使用`sudo`命令可以让这条命令临时赋予root权限
    - 并非所有用户都有权利使用`sudo`命令，想要使用需要为普通用户添加权限
- 为普通用户配置`sudo`权限：
    - 切换到root用户，执行`visudo`命令
    - 在文件最后添加：`username ALL=(ALL) ALL`，即可赋予普通用户`sudo`权限
    - 可在后面添加`NOPASSWD = ALL`(同一行)，表示不需要输入密码
### 用户和用户组
- Linux权限管控单元是用户级别和用户组级别
- 用户组管理：
    - 以下命令需要root权限
    - `groupadd [用户组名]`：创建用户组
    - `groupdel [用户组名]`：删除用户组
- 用户管理：
    - `useradd [-g -d] [用户名]`：创建用户
        - 选项 `-g`：指定用户所属用户组,不指定`-g`会自动创建同名组并加入，指定`-g`需要组已存在，如果已经存在同名组，就必须使用`-g`指定组名
        - 选项 `-d`：指定用户`HOME`目录，不指定,`HOME`目录默认为`/home/用户名`
    - `userdel [-r] [用户名]`：删除用户
        - 选型 `-r`：删除用户`HOME`目录,不使用`-r`则只删除用户信息，保留`HOME`目录
    - `id [用户名]`：查看用户所属的组，不输入用户名则查看当前用户所属的组
    - `usermod -aG [用户组名] [用户名]`：将指定用户加入指定用户组
    - `getent passwd`：查看所有用户信息
    - `getent group`：查看所有用户组信息
### 查看权限控制信息
- `ls -l`：可以以列表形式查看内容，并显示文件权限信息信息
- 权限信息：举例：`drwxr-xr-x`
    - 第一位：文件类型，`d`表示目录，`-`表示普通文件
    - 第2-4位：文件所有者的权限
    - 第5-7位：文件所属组的权限
    - 第8-10位：文件其他用户的权限
    - `r`表示可读，`w`表示可写，`x`表示可执行,无对应权限则为`-`
- `chmod [-R] [权限] [文件路径]`：修改文件或文件夹权限
    - `-R`：递归修改，将路径下的所有文件或文件夹权限修改为指定权限
    - 只有文件或文件夹所属用户或者root用户有权限修改权限
    - 示例：`chmod u=rwx,g=rx,o=rx hello.txt`,将文件权限修改为`rwxr-xr-x`
        - `u`：修改用户权限
        - `g`：修改用户组权限
        - `o`：修改其他用户权限
    - 快捷写法：`chmod [nnn] [文件路径]`
        - `nnn`：表示权限，如`751`表示`rwxr-x--x`
        - `r`=4,`w`=2,`x`=1,单位数字累加即是权限值（例如7=4+2+1）
- `chown [-R] [用户名:用户组名] [文件路径]`：修改文件或文件夹所属用户和用户组
    - `-R`：递归修改，将路径下的所有文件或文件夹所属用户和用户组修改为指定用户和用户组
    - 只有文件或文件夹所属用户或者root用户有权限修改所属用户和用户组
    - 用户和用户组都为选填，可以只改一个，`:`用来分隔用户和用户组
### Linux使用小技巧
- `ctrl + c` : 强制中断正在执行的程序，命令输入错误也可以用此命令取消
- `ctrl + d` : 退出当前登录,或者退出某些特定程序的专属页面（比如Python）
- `history` : 查看历史输入命令
    - 可以结合管道符`|`筛选查看历史命令
    - 可以通过`!`来自动执行上一次匹配前缀的命令
    - `ctrl + r` : 搜索历史命令,回车可直接执行，小键盘左右键可得到此命令
- 光标移动快捷键：
    - `ctrl + a` : 移动到行首
    - `ctrl + e` : 移动到行尾
    · `ctrl + 键盘左键` :向左跳一个单词
    - `ctrl + 键盘右键` :向右跳一个单词
- `ctlr + l` : 清屏，或者输入`clear`也可以清屏
### 软件安装
- yum : yum是linux下的软件包管理工具(适用于CentOS)
    - RPM包管理器 `.rpm`
    - 语法： `yum [-y] [install|remove|update] [package_name]`
        - 例子：`yum -y install wget`
    - yum需要root权限
- apt : apt是linux下的软件包管理工具(适用于ubuntu系统)
    - DEB包管理器 `.deb`
    - 语法: `apt [-y] [install|remove|update] [package_name]`
### `systemctl`命令
- `systemctl`命令用于管理linux系统服务，比如启动、停止、重启、查看状态等
- 语法：
    - `systemctl start [service_name]`：启动服务
    - `systemctl stop [service_name]`：停止服务
    - `systemctl status [service_name]`：查看服务状态
    - `systemctl restart [service_name]`：重启服务
    - `systemctl enable [service_name]`：设置服务开机启动
    - `systemctl disable [service_name]`：取消服务开机启动
### 软链接
- 作用：创建一个指向目标文件的快捷方式
- 语法：`ln -s [target_file] [link_file]`
    - `-s`：创建软链接
    - `[target_file]`：目标文件
    - `[link_file]`：快捷方式文件目的地
    - 实例：`ln -s /usr/bin/python3 /usr/bin/python`
### 日期和时区
- 获取当前日期和时间,并且可以格式化的显示形式和日期计算：`date`
    - 语法：`date [-d] [+格式化字符串]`
        - `-d`：进行日期计算
        - `+格式化字符串`：指定格式
        - 格式化字符串：
            - `%Y`：年
            - `%m`：月
            - `%d`：日
            - `%H`：时
            - `%M`：分
            - `%S`：秒
            - `%s`: 自然1970年1月1日0时0分0秒以来的秒数
- 修改时区
    - 语法：`rm -f /etc/localtime`先删除原来的时区文件
    - 利用软链创建对应时区文件：`ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime`
- ntp程序
    - 安装：`yum install ntp -y`
    - 启动：`systemctl start ntpd`
    - 开机自启动：`systemctl enable ntpd`
    - 手动校准时间：`ntpdate -u ntp.aliyun.com`(默认是阿里云的ntp服务器)
### ip地址和主机名
- ip地址
    - 每台电脑都有一个地址用于和其他计算机进行通讯，ip地址有两个版本：ipv4和ipv6
    - ipv4地址格式：`a.b.c.d`,期中a,b,c,d都是0-255的数字，如192.168.1.1
    - `ifconfig`查看ip地址(如果无法查看，使用`yum install net-tools -y`安装)
    - 特殊ip地址：
        -127.0.0.1: 用于代指本机
        - 0.0.0.0: 
            - 可以用来代表本机
            - 可以在端口绑定中来确定绑定关系
            - 在一些IP地址限制中，0.0.0.0可以代表所有IP地址，意思是允许所有IP地址访问
- 主机名
    - 每台电脑除了对外联络地址(ip地址)以外，还有一个主机名称
    - `hostname`查看主机名称
    - `hostnamectl set-hostname [新的主机名称]`修改主机名称
- 域名解析
    - 域名解析：将域名映射为ip地址
### 解压和压缩
-  压缩格式：
    - `zip`: 格式: Linux、Windows、MacOS,常用
    - `7zip`: Windows系统常用
    - `rar`: Windows系统常用
    - `tar`: Linux、MacOs常用
    - `gzip`: Linux、MacOs常用
- `tar`命令：
    - .tar,称之为tarball,归档文件，即简单的将文件组装到一个.tar的文件内，并没有太多文件体积的减少，仅仅是简单的封装
    - .gz,也常见为.tar.gz,gzip格式压缩文件，即使用gzip压缩算法将文件压缩到一个文件内,可以极大的减少压缩后的体积
    - 语法`tar [-c -v -x  -z -C -f] [参数1] [参数2]···[参数N]`：
    - `-c`：创建tar文件,压缩模式
    - `-v`：显示压缩过程
    - `-x`：解压tar文件,解压模式
    - `-z`：使用gzip压缩算法
    - `-C`：指定解压目录,目的地
    - `-f`：指定tar文件名
    - 常用组合：
        - `tar -zcvf [文件名].tar.gz [目录]`：创建gzip压缩文件
        - `tar -zxvf [文件名].tar.gz [目录]`：解压gzip压缩文件
        - `tar -cvf [文件名].tar.gz [目录]`：创建tar压缩文件
        - `tar -xvf [文件名].tar.gz [目录]`：解压tar压缩文件
        - `tar -zxvf [文件名] -C [目录]`：解压tar压缩文件到指定目录
- `zip`命令：
    - 语法：`zip [-r] [参数1] [参数2] ··· [参数N]`
    - `-r`：递归压缩文件夹
    - 示例：`zip -r [文件名].zip [目录]`
- `unzip`命令：
    - 语法：`unzip [-d] 参数`
    - `-d`：指定解压目录
    - 示例：`unzip [文件名] -d [目录]`